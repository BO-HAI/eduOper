var edu = edu || {}; edu.command = edu.command || {}, edu.command.Tools = function () { }, edu.command.Tools.prototype = { constructor: edu.command.Tools, createGUID: function () { var b, c, a = "", d = 32; for (c = 1; d >= c; c++) b = Math.floor(16 * Math.random()).toString(16), a += b, (8 === c || 12 === c || 16 === c || 20 === c) && (a += "-"); return a }, getQueryString: function (a) { var b = new RegExp(edu.config.tools.getQueryString.regexpString.replace("@name", a), "i"), c = window.location.search.substr(1).match(b); return null !== c ? unescape(c[2]) : null }, getQueryStringObj: function (a) { for (var f, b = a.slice(a.indexOf("?") + 1), c = {}, d = b || location.search.slice(1), e = edu.config.tools.getQueryStringObj.regexp; f = e.exec(d) ;) c[decodeURIComponent(f[1])] = decodeURIComponent(f[2]); return c }, inheritPrototype: function (a, b) { function c(a) { function b() { } return b.prototype = a, new b } var d = c(a.prototype); d.constructor = b, b.prototype = d }, validation: function (a) { if ("undefined" == typeof a) return !1; if (!1 in a || !1 in a) return !1; var c, b = edu.config.regexp; switch (a.type) { case 1: if (c = b.mail, c.test(a.value)) return !0; break; case 2: if (c = b.phone_cn, c.test(a.value)) return !0; break; case 3: if (c = b.mobile_cn, c.test(a.value)) return !0; break; case 4: if (c = b.post_cn, c.test(a.value)) return !0; break; case 5: if ("string" != typeof a.value) return !1; if ("max" in a && "min" in a && a.value.length >= a.min && a.value.length <= a.max) return !0 } return !1 }, formatDate: function (a, b) { function c(a, b) { var d, c = b.regexp.date_t, e = "" === b.GMT ? 0 : b.GMT, f = 36e5 * parseInt(e, 10), g = a.indexOf(".") > -1 ? a.indexOf(".") : a.length; return c.test(a) ? (a = a.substring(0, g), d = a.replace(c, function (a, b, c) { return b = b.replace(/-/g, "/") + " " + c, Date.parse(b) + f }), new Date(parseInt(d, 10))) : new Date(a) } var g, d = edu.config.tools.formatDate, e = "undefined" == typeof b ? "yyyy-MM-dd hh:mm:ss" : b, f = c(a, d), h = { "M+": f.getMonth() + 1, "d+": f.getDate(), "h+": 0 === f.getHours() % 12 ? 12 : f.getHours() % 12, "H+": f.getHours(), "m+": f.getMinutes(), "s+": f.getSeconds(), "q+": Math.floor((f.getMonth() + 3) / 3), S: f.getMilliseconds() }, i = { 0: "日", 1: "一", 2: "二", 3: "三", 4: "四", 5: "五", 6: "六" }; /(y+)/.test(e) && (e = e.replace(RegExp.$1, (f.getFullYear() + "").substr(4 - RegExp.$1.length))), /(E+)/.test(e) && (e = e.replace(RegExp.$1, (RegExp.$1.length > 1 ? RegExp.$1.length > 2 ? "星期" : "周" : "") + i[f.getDay() + ""])); for (g in h) new RegExp("(" + g + ")").test(e) && (e = e.replace(RegExp.$1, 1 === RegExp.$1.length ? h[g] : ("00" + h[g]).substr(("" + h[g]).length))); return e } }, edu = edu || {}, edu.command = edu.command || {}, edu.command.Api = function (a) { var b = !1; "undefined" != typeof a && "boolean" == typeof a && (b = a), "undefined" != typeof a && "object" == typeof a && (b = a.debug), this.getDebug = function () { return b }, this.setDebug = function (a) { b = a } }, edu.command.Api.prototype = { constructor: edu.command.Api, apiRequest: function (a, b, c) { function d(a) { var b = { id: "", url: "", para: "", redirect: "/callback.html", type: "get", isTimeOut: !0, timeout: 3e4, timeoutId: null, postdata: {}, resendCount: 0, isResend: !0, allowRequestCount: 3, strict: !1, charset: "UTF-8" }; if (function () { b.id = (new edu.command.Tools).createGUID() }(), "url" in a && (b.url = a.url), "para" in a && (b.para = a.para), "redirect" in a && (b.redirect = a.redirect), "type" in a && ("get" === a.type || "put" === a.type || "post" === a.type || "delete" === a.type || "easy" === a.type) && (b.type = a.type, "delete" === a.type && (b.type = "get"), "put" === a.type && (b.type = "post")), "postdata" in a && (b.postdata = a.postdata), "timeout" in a && (b.timeout = a.timeout), "resendCount" in a && (b.resendCount = a.resendCount), "isResend" in a && (b.isResend = a.isResend), "isTimeOut" in a && (b.isTimeOut = a.isTimeOut), "charset" in a) { if ("" === a.charset) return; b.charset = a.charset } return b.timeout = b.isTimeOut === !0 ? b.timeout : 0, b.isTimeOut && 0 === b.timeout && (b.timeout = 3e4), b } function g(a, b, c, d) { var e = arguments, f = !0; jQuery.ajaxSetup({ scriptCharset: "utf-8", contentType: "application/jsonp; charset=utf-8" }), $.ajax({ type: a.type, data: a.para, async: !0, timeout: a.timeout, url: a.url, dataType: "jsonp", jsonp: "callback", jsonpcallback: "?", success: function (c) { a = null, f = !1, b(c) }, error: function () { f && k(d, e, c, a) } }) } function h(a, b) { $.get(a.url, function (a) { b(a) }, a.type) } function i(a, b, c, d) { window.ActiveXObject && (document.charset = a.charset), k.isResend = !1, a.isTimeOut = !1; var i, e = arguments, f = $("#webApiRequestContainer"), g = $("#webApiRequestIframe"), h = $("#webApiRequestForm"); 0 === f.length && (f = $("<div style='display:none;' id='webApiRequestContainer'></div>"), g = $("<iframe style='width:0;height:0' id='webApiRequestIframe' name='webApiRequestIframe'></iframe>"), h = $("<form id='webApiRequestForm' method='post' target='webApiRequestIframe'  accept-charset='" + a.charset + "'></form>"), f.append(g).append(h).appendTo($("body"))), h.attr("action", a.url + (a.url.indexOf("?") > 0 ? "&" : "?") + "r=" + a.redirect), h.html(""); for (i in a.postdata) h.append($("<input type='hidden' name='" + i + "' value='" + a.postdata[i] + "' />")); h.submit(), a.isTimeOut && (a.timeoutId = setTimeout(function () { k(d, e, c, a) }, a.timeout)), g.unbind("load").load(function () { var d, e, f; try { d = this.contentWindow.location.href, e = new edu.command.Tools, f = e.getQueryStringObj(d), e = null, a.isTimeOut && clearTimeout(a.timeoutId), b(f) } catch (g) { c() } }) } function j(a, b, c, d) { f.url = a.url + (a.url.indexOf("?") > -1 ? "&" : "?") + a.para, "delete" === a.type && g(a, b, c, d), "put" === a.type && i(a, b, c, d) } function k(a, b, c, d) { return d.isResend ? (d.resendCount++, d.resendCount === d.allowRequestCount && (d.isResend = !1), window.console && console.info("重新发送" + d.id + "第" + d.resendCount + "次请求"), ("post" === b[0].type || "put" === b[0].type) && $("#webApiRequestContainer").remove(), b.callee(d, b[1], b[2], b[3]), void 0) : (d = null, "undefined" != typeof c ? c() : window.console && console.info("网络服务中断，无法链接到服务器。"), !1) } if ("undefined" == typeof a || "object" != typeof a || "undefined" == typeof b || "function" != typeof b) return alert("参数错误！"), void 0; var e = this, f = d(a); "get" === f.type ? g(f, b, c, e) : "post" === f.type ? i(f, b, c, e) : "put" === f.type || "delete" === f.type ? j(f, b, c, e) : h(f, b) }, get: function (a, b, c) { return arguments.length < 2 ? (alert("api.get方法参数错误"), void 0) : (2 === arguments.length && "string" == typeof arguments[0] && "function" == typeof arguments[1] ? this.apiRequest({ url: a }, b) : "string" == typeof arguments[0] && "function" == typeof arguments[1] && "function" == typeof arguments[2] ? this.apiRequest({ url: a }, b, c) : alert("api.get方法参数错误，请检查参数类型"), void 0) }, post: function (a, b, c, d) { return arguments.length < 3 ? (alert("api.post方法参数错误"), void 0) : (3 === arguments.length && "string" == typeof arguments[0] && "object" == typeof arguments[1] && "function" == typeof arguments[2] ? this.apiRequest({ url: a, postdata: b, type: "post" }, c) : "string" == typeof arguments[0] && "object" == typeof arguments[1] && "function" == typeof arguments[2] && "function" == typeof arguments[3] ? this.apiRequest({ url: a, postdata: b, type: "post", para: "m=post" }, c, d) : alert("api.post方法参数错误，请检查参数类型"), void 0) }, pub: function (a, b, c, d) { return arguments.length < 3 ? (alert("api.post方法参数错误"), void 0) : (3 === arguments.length && "string" == typeof arguments[0] && "object" == typeof arguments[1] && "function" == typeof arguments[2] ? this.apiRequest({ url: a, postdata: b, type: "post" }, c) : "string" == typeof arguments[0] && "object" == typeof arguments[1] && "function" == typeof arguments[2] && "function" == typeof arguments[3] ? this.apiRequest({ url: a, postdata: b, type: "put", para: "m=put" }, c, d) : alert("api.post方法参数错误，请检查参数类型"), void 0) }, del: function (a, b, c) { return arguments.length < 2 ? (alert("api.del方法参数错误"), void 0) : (2 === arguments.length && "string" == typeof arguments[0] && "function" == typeof arguments[1] ? this.apiRequest({ url: a }, b) : "string" == typeof arguments[0] && "function" == typeof arguments[1] && "function" == typeof arguments[2] ? this.apiRequest({ url: a, type: "delete", param: "m=delete" }, b, c) : alert("api.get方法参数错误，请检查参数类型"), void 0) }, getDomain: function (a, b) { var c = this.getDebug(), d = a.substring(0, 1).indexOf("/") > -1 ? "" : "/", e = { log_domain: "http://localhost:8080", api_domain: "http://localhost:8080" }; if (arguments.length >= 1) try { e.log_domain = c ? edu.config.testDomain.log : edu.config.domain.log, e.api_domain = c ? edu.config.testDomain.api : edu.config.domain.api } catch (f) { throw new Error("对象创建异常终止，getDomain方法错误：请确认是否正确引用edu_config.js；额外的信息：" + f) } return arguments.length >= 1 && (e.log_domain += d + arguments[0], e.api_domain += d + arguments[0]), arguments.length >= 2 && (d = arguments[0].indexOf("?") > -1 ? "&" : "?", b = d + "passport=" + this.getPassport(arguments[1]), e.log_domain += b, e.api_domain += b), e }, createFullUrl: function (a) { var e, f, b = this.getDebug(), c = "", d = "", g = ""; try { if (1 === arguments.length) { g = a.path.substring(0, 1).indexOf("/") > -1 ? "" : "/"; for (t in edu.config.project) if (t === a.project.toLowerCase()) { d = b ? edu.config.project[t].testDomain : edu.config.project[t].domain; break } "path" in a && a.path.length >= 1 && (c = d + g + a.path, "passport" in a && (g = a.path.indexOf("?") > -1 ? "&" : "?", c = c + g + "passport=" + this.getPassport(a.passport))) } else if (arguments.length >= 2) { for (g = arguments[1].substring(0, 1).indexOf("/") > -1 ? "" : "/", e = 0, f = arguments.length; f > e; e++) if ("string" != typeof arguments[e]) return alert("api.createFullUrl方法参数错误，请检查参数类型"), void 0; arguments.length > 1 && (d = b ? edu.config.project[arguments[0]].testDomain : edu.config.project[arguments[0]].domain, c = d + g + arguments[1], 3 === arguments.length && (g = arguments[1].indexOf("?") > -1 ? "&" : "?", c = c + g + "passport=" + this.getPassport(arguments[2]))) } else alert("api.createFullUrl方法参数错误，请检查参数类型"); return c } catch (h) { throw h } }, getPassport: function (a) { var b = "", c = edu.config.ticket, d = edu.config.oldTicket; return 0 === arguments.length ? b = null === $.cookie(d) ? $.cookie(c) : $.cookie(d) : arguments.length > 0 && "" === a ? b = null === $.cookie(d) ? $.cookie(c) : $.cookie(d) : arguments.length > 0 && "" !== a ? b = a : b }, valiReturnData: function (a, b, c) { var f, g, h, i, d = "javascript:;", e = edu.config.api.valiReturnData; for (arguments.length > 2 && "" !== c && (d = c), f = 0, g = e.statusName.length; g > f; f++) for (h in a) { if (h === e.statusName[f] && a[h].toString() === e.normalValue) return !0; if (h === e.statusName[f]) return i = this.analysisStatus(a[h], d), arguments.length > 1 && a[h] !== e.normalValue && b(i), !1 } }, analysisStatus: function (a, b) { var g, h, c = edu.config.api.analysisStatus, d = "javascript:;", e = "", f = ""; for (arguments.length > 1 && "" !== b && (d = b.replace("'", ""), e = c.startLabel.replace("@my_url", d), f = c.endLabel), g = 0, h = c.statusObjs.length; h > g; g++) if (c.statusObjs[g].key === a.toString()) return c.statusObjs[g].value.replace("@s_label", e).replace("@e_label", f).replace("@num", a); return c.defaultStatus.replace("@s_label", e).replace("@e_label", f).replace("@num", a) } }, edu = edu || {}, edu.ui = edu.ui || {}, edu.ui.EduUI = function () { }, edu.ui.EduUI.prototype.inheritPrototype = function (a, b) { function d(a) { function b() { } return b.prototype = a, new b } var c = d(a.prototype); c.constructor = b, b.prototype = c }, edu.ui.EduUI.prototype.paging = function (a, b, c, d, e, f, g) { $("#" + a).pagination(b, { callback: f, prev_text: "上一页", next_text: "下一页", current_page: c, items_per_page: d, link_to: "" == e ? "#" : e, obj_this: g }) }, edu = edu || {}, edu.ui = edu.ui || {}, edu.ui.UserUI = function () { edu.ui.EduUI.call(this) }, function () { (new edu.ui.EduUI).inheritPrototype(edu.ui.EduUI, edu.ui.UserUI) }(), edu.ui.UserUI.prototype.load = function (a, b, c, d) { var e, f; return document.getElementById(a).innerHTML = "", e = null, 2 == arguments.length && "undefined" != typeof pots && (e = d), 1 == arguments.length && (e = { lines: 13, length: 7, width: 4, radius: 10, corners: 1, rotate: 0, color: "#09F", speed: 1, trail: 60, shadow: !1, hwaccel: !1, className: "spinner", zIndex: 2e9, top: "auto", left: "auto" }), 3 == arguments.length && "undefined" != typeof b && "undefined" != typeof c && (e = { lines: 13, length: 7, width: 4, radius: 10, corners: 1, rotate: 0, color: b, speed: 1, trail: 60, shadow: c, hwaccel: !1, className: "spinner", zIndex: 2e9, top: "auto", left: "auto" }), f = document.getElementById(a), new Spinner(e).spin(f) }, edu.ui.UserUI.prototype.nullData = function (a, b, c) { var e, d = { color: "#F60", fontSize: "14px", fontWeight: "bold" }; if ("undefined" != typeof c) { if ("color" in c) { if ("" == c.color) return; d.color = c.color } if ("fontSize" in c) { if ("" == c.fontSize) return; d.fontSize = c.fontSize } if ("" in c) { if ("" == c.fontWeight) return; d.fontWeight = c.fontWeight } } e = document.getElementById(b), e.innerHTML = "", e.style.textAlign = "center", e.style.padding = "30px 0", e.style.color = d.color, e.style.fontSize = d.fontSize, e.style.fontWeight = d.fontWeight, e.innerHTML = a }, edu.ui.UserUI.prototype.jk_bindingAccordion = function (a) { ko.bindingHandlers.accordion = { init: function (a, b) { b() || {}, setTimeout(function () { $(a).accordion({ heightStyle: "content", collapsible: !0 }) }, 0), ko.utils.domNodeDisposal.addDisposeCallback(a, function () { $(a).accordion("destroy") }) }, update: function () { a() } } }, edu.ui.UserUI.prototype.jk_paging = function (a, b, c, d, e, f) { var g = null; "undefined" != typeof f && (g = f), ko.bindingHandlers.paging = { init: function () { "" == $("#Pagination").html().length && $("#Pagination").pagination(a, { callback: e, prev_text: "上一页", next_text: "下一页", current_page: b, items_per_page: c, link_to: "" == d ? "#" : d, obj_this: g }) }, update: function () { } } }, edu = edu || {}, edu.ui = edu.ui || {}, edu.ui.Box = function (a) { var b = { eventElementName: "edu_event_element", boxElementId: "edu_box_element", bgElementId: "box_background", borderStyle: "solid", borderColor: "#333", borderWidth: "5px", zindex: "1000", isClose: !0 }; "undefined" != typeof a && ("eventElementName" in a && (b.eventElementName = a.eventElementName), "boxElementId" in a && (b.boxElementId = a.boxElementId), "bgElementId" in a && (b.bgElementId = a.bgElementId), "borderStyle" in a && (b.borderStyle = a.borderStyle), "borderColor" in a && (b.borderColor = a.borderColor), "borderWidth" in a && (b.borderWidth = a.borderWidth), "zindex" in a && (b.zindex = a.zindex), "isClose" in a && (b.isClose = a.isClose)), this.getParams = function () { return b } }, edu.ui.Box.prototype = { init: function () { function j() { var c, e, f; $("body").css({ "overflow-x": "hidden", "overflow-y": "hidden" }), $("#" + b.bgElementId).css({ position: "absolute", top: 0, left: 0, "margin-left": "1px", "margin-top": "1px", "background-color": "#000000", height: function () { return $(document).height() }, "-moz-opacity": "0.3", opacity: "0.3", filter: "alpha(opacity=30)", overflow: "hidden", width: function () { return $(document).width() }, "z-index": "999" }), c = $("#" + b.boxElementId), e = (document.documentElement.clientHeight - c.height()) / 2 + document.documentElement.scrollTop + document.body.scrollTop, f = (document.documentElement.clientWidth - c.width()) / 2 + document.documentElement.scrollLeft + document.body.scrollLeft, c.css({ position: "absolute", top: e + "px", left: f + "px", width: d }).show() } var d, e, f, g, h, i, a = this, b = a.getParams(), c = $("[ name = " + b.eventElementName + "]"); c.each(function () { $(this).bind("click", function () { j() }) }), 0 == $("box_background").length && $("body").append('<div id="' + b.bgElementId + '"></div>'), d = null, d = 0 === $("#edu_win_body").length ? $("#" + b.boxElementId + " >").width() : $("#edu_win_body >").width(), e = $("#" + b.boxElementId), e.css({ "z-index": b.zindex, display: "none", "border-style": b.borderStyle, "border-color": b.borderColor, "border-width": b.borderWidth, "border-top-style": "none" }), f = e.html(), g = "", "" == b.borderWidth ? g = f : (h = 0 == b.isClose ? "display:none;" : "", i = "0px" === b.borderWidth ? "display:none;" : "", $("#edu_win_body").length > 0 && (f = $("#edu_win_body").html()), g = '<div id="edu_win_head" style="background-color:#333; padding-left:90%; height:22px;' + i + '">' + '<div id="edu_win_close" style="width:30px;height:17px;line-height:15px; text-align:center; ' + "background-color:#c75050;color:#FFF; cursor:pointer;" + h + '">x</div>' + '</div><div id="edu_win_body">' + f + "</div>"), e.html("").html(g), $("#edu_win_close").bind({ click: function () { a.close() }, mouseover: function () { $("#edu_win_close").css("background-color", "#e04343") }, mouseout: function () { $("#edu_win_close").css("background-color", "#c75050") } }), window.EduBox = window.EduBox || this }, close: function (a) { var b = this, c = b.getParams(), d = null; "undefined" != typeof a && ("boxElementId" in a && (c.boxElementId = a.boxElementId), "callback" in a && (d = a.callback())), $("body").css({ "overflow-x": "", "overflow-y": "" }), $("#" + c.bgElementId).attr("style", ""), $("#" + c.boxElementId).hide(), null !== d && d() } }, !function (a, b, c) { function g(a, c) { var e, d = b.createElement(a || "div"); for (e in c) d[e] = c[e]; return d } function h(a) { for (var b = 1, c = arguments.length; c > b; b++) a.appendChild(arguments[b]); return a } function j(a, b, c, d) { var g = ["opacity", b, ~~(100 * a), c, d].join("-"), h = .01 + 100 * (c / d), j = Math.max(1 - (1 - a) / b * (100 - h), a), k = f.substring(0, f.indexOf("Animation")).toLowerCase(), l = k && "-" + k + "-" || ""; return e[g] || (i.insertRule("@" + l + "keyframes " + g + "{" + "0%{opacity:" + j + "}" + h + "%{opacity:" + a + "}" + (h + .01) + "%{opacity:1}" + (h + b) % 100 + "%{opacity:" + a + "}" + "100%{opacity:" + j + "}" + "}", i.cssRules.length), e[g] = 1), g } function k(a, b) { var f, g, e = a.style; if (e[b] !== c) return b; for (b = b.charAt(0).toUpperCase() + b.slice(1), g = 0; g < d.length; g++) if (f = d[g] + b, e[f] !== c) return f } function l(a, b) { for (var c in b) a.style[k(a, c) || c] = b[c]; return a } function m(a) { var b, d, e; for (b = 1; b < arguments.length; b++) { d = arguments[b]; for (e in d) a[e] === c && (a[e] = d[e]) } return a } function n(a) { for (var b = { x: a.offsetLeft, y: a.offsetTop }; a = a.offsetParent;) b.x += a.offsetLeft, b.y += a.offsetTop; return b } function p(a) { return this.spin ? (this.opts = m(a || {}, p.defaults, o), void 0) : new p(a) } var f, d = ["webkit", "Moz", "ms", "O"], e = {}, i = function () { var a = g("style", { type: "text/css" }); return h(b.getElementsByTagName("head")[0], a), a.sheet || a.styleSheet }(), o = { lines: 12, length: 7, width: 5, radius: 10, rotate: 0, corners: 1, color: "#000", speed: 1, trail: 100, opacity: .25, fps: 20, zIndex: 2e9, className: "spinner", top: "auto", left: "auto", position: "relative" }; p.defaults = {}, m(p.prototype, { spin: function (a) { var h, i, b, c, d, e, j, k, m, o, p; return this.stop(), b = this, c = b.opts, d = b.el = l(g(0, { className: c.className }), { position: c.position, width: 0, zIndex: c.zIndex }), e = c.radius + c.length + c.width, a && (a.insertBefore(d, a.firstChild || null), i = n(a), h = n(d), l(d, { left: ("auto" == c.left ? i.x - h.x + (a.offsetWidth >> 1) : parseInt(c.left, 10) + e) + "px", top: ("auto" == c.top ? i.y - h.y + (a.offsetHeight >> 1) : parseInt(c.top, 10) + e) + "px" })), d.setAttribute("aria-role", "progressbar"), b.lines(d, b.opts), f || (j = 0, k = c.fps, m = k / c.speed, o = (1 - c.opacity) / (m * c.trail / 100), p = m / c.lines, function q() { var a, e; for (j++, a = c.lines; a; a--) e = Math.max(1 - (j + a * p) % m * o, c.opacity), b.opacity(d, c.lines - a, e, c); b.timeout = b.el && setTimeout(q, ~~(1e3 / k)) }()), b }, stop: function () { var a = this.el; return a && (clearTimeout(this.timeout), a.parentNode && a.parentNode.removeChild(a), this.el = c), this }, lines: function (a, b) { function e(a, d) { return l(g(), { position: "absolute", width: b.length + b.width + "px", height: b.width + "px", background: a, boxShadow: d, transformOrigin: "left", transform: "rotate(" + ~~(360 / b.lines * c + b.rotate) + "deg) translate(" + b.radius + "px" + ",0)", borderRadius: (b.corners * b.width >> 1) + "px" }) } for (var d, c = 0; c < b.lines; c++) d = l(g(), { position: "absolute", top: 1 + ~(b.width / 2) + "px", transform: b.hwaccel ? "translate3d(0,0,0)" : "", opacity: b.opacity, animation: f && j(b.opacity, b.trail, c, b.lines) + " " + 1 / b.speed + "s linear infinite" }), b.shadow && h(d, l(e("#000", "0 0 4px #000"), { top: "2px" })), h(a, h(d, e(b.color, "0 0 1px rgba(0,0,0,.1)"))); return a }, opacity: function (a, b, c) { b < a.childNodes.length && (a.childNodes[b].style.opacity = c) } }), function () { function a(a, b) { return g("<" + a + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', b) } var b = l(g("group"), { behavior: "url(#default#VML)" }); !k(b, "transform") && b.adj ? (i.addRule(".spin-vml", "behavior:url(#default#VML)"), p.prototype.lines = function (b, c) { function f() { return l(a("group", { coordsize: e + " " + e, coordorigin: -d + " " + -d }), { width: e, height: e }) } function k(b, e, g) { h(i, h(l(f(), { rotation: 360 / c.lines * b + "deg", left: ~~e }), h(l(a("roundrect", { arcsize: c.corners }), { width: d, height: c.width, left: c.radius, top: -c.width >> 1, filter: g }), a("fill", { color: c.color, opacity: c.opacity }), a("stroke", { opacity: 0 })))) } var j, d = c.length + c.width, e = 2 * d, g = 2 * -(c.width + c.length) + "px", i = l(f(), { position: "absolute", top: g, left: g }); if (c.shadow) for (j = 1; j <= c.lines; j++) k(j, -2, "progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)"); for (j = 1; j <= c.lines; j++) k(j); return h(b, i) }, p.prototype.opacity = function (a, b, c, d) { var e = a.firstChild; d = d.shadow && d.lines || 0, e && b + d < e.childNodes.length && (e = e.childNodes[b + d], e = e && e.firstChild, e = e && e.firstChild, e && (e.opacity = c)) }) : f = k(b, "animation") }(), "function" == typeof define && define.amd ? define(function () { return p }) : a.Spinner = p }(window, document), jQuery.fn.pagination = function (a, b) { return b = jQuery.extend({ items_per_page: 10, num_display_entries: 10, current_page: 0, num_edge_entries: 0, link_to: "#", prev_text: "Prev", next_text: "Next", ellipse_text: "...", prev_show_always: !0, next_show_always: !0, callback: function () { return !1 }, obj_this: null }, b || {}), this.each(function () { function c() { return Math.ceil(a / b.items_per_page) } function d() { var a = Math.ceil(b.num_display_entries / 2), d = c(), e = d - b.num_display_entries, f = g > a ? Math.max(Math.min(g - a, e), 0) : 0, h = g > a ? Math.min(g + a, d) : Math.min(b.num_display_entries, d); return [f, h] } function e(a, c) { g = a, f(); var d = b.callback(a, h); return d || (c.stopPropagation ? c.stopPropagation() : c.cancelBubble = !0), d } function f() { var a, f, i, j, k, l, m; if (h.empty(), a = d(), f = c(), i = function (a) { return function (b) { return e(a, b) } }, j = function (a, c) { var d; a = 0 > a ? 0 : f > a ? a : f - 1, c = jQuery.extend({ text: a + 1, classes: "current" }, c || {}), d = a == g ? $("<span class='current'>" + c.text + "</span>") : $("<a>" + c.text + "</a>").bind("click", i(a)).attr("href", b.link_to.replace(/__id__/, a)), c.classes && (d.removeAttr("class"), d.addClass(c.classes)), h.append(d) }, b.prev_text && (g > 0 || b.prev_show_always) && j(g - 1, { text: b.prev_text, classes: "disabled" }), a[0] > 0 && b.num_edge_entries > 0) { for (k = Math.min(b.num_edge_entries, a[0]), l = 0; k > l; l++) j(l); b.num_edge_entries < a[0] && b.ellipse_text && jQuery("<span>" + b.ellipse_text + "</span>").appendTo(h) } for (l = a[0]; l < a[1]; l++) j(l); if (a[1] < f && b.num_edge_entries > 0) for (f - b.num_edge_entries > a[1] && b.ellipse_text && jQuery("<span>" + b.ellipse_text + "</span>").appendTo(h), m = Math.max(f - b.num_edge_entries, a[1]), l = m; f > l; l++) j(l); b.next_text && (f - 1 > g || b.next_show_always) && j(g + 1, { text: b.next_text, classes: "disabled" }) } var h, g = b.current_page; a = !a || 0 > a ? 1 : a, b.items_per_page = !b.items_per_page || b.items_per_page < 0 ? 1 : b.items_per_page, h = jQuery(this), this.selectPage = function (a) { e(a) }, this.prevPage = function () { return g > 0 ? (e(g - 1), !0) : !1 }, this.nextPage = function () { return g < c() - 1 ? (e(g + 1), !0) : !1 }, f() }) }, edu = edu || {}, edu.Box = edu.Box || {}, edu.Box.WinLogin = { guid: "", isVerify: !1, click: function () { var e, a = edu.Box.WinLogin, b = !0, c = $("#" + edu.config.winLogin.winBodyId + " input"), d = { name: "", pwd: "" }; c.each(function (a, c) { var e = $(c).attr("id"), f = $(c).val(); 0 === f.length && e !== edu.config.winLogin.input.VerifyCodeId ? ($(c).addClass(edu.config.winLogin.css.error), b = !1) : (edu.config.winLogin.input.userNameId === e && (d.name = $(c).val()), edu.config.winLogin.input.passWordId === e && (d.pwd = $(c).val())) }), a.isVerify && (e = $("#" + edu.config.winLogin.input.VerifyCodeId).val(), e.length <= 0 || e.length > 4 ? (b = !1, $("#" + edu.config.winLogin.input.VerifyCodeId).addClass(edu.config.winLogin.css.error)) : (d.VerifyId = a.guid, d.VerifyCode = e)), b && ($("#" + edu.config.winLogin.errorBoxDivID).html(edu.config.winLogin.logining), $("#edu-win-login").button("option", "disabled", !0), function () { function e(c) { if ($("#" + edu.config.winLogin.errorBoxDivID).html(""), $("#edu-win-login").button("option", "disabled", !1), c.status !== edu.config.winLogin.status.needVerify.key) if (b.valiReturnData(c)) $.cookie && $.cookie(edu.config.winLogin.passportName, c.Passport, { expires: edu.config.winLogin.cookieExpires, path: edu.config.winLogin.cookiePath }), a.callback(c); else { if (c.status === edu.config.winLogin.status.verifyError.key) return $("#" + edu.config.winLogin.input.VerifyCodeId).addClass(edu.config.winLogin.css.error), $("#" + edu.config.winLogin.errorBoxDivID).html(edu.config.winLogin.status.verifyError.value), void 0; if (c.status === edu.config.winLogin.status.pwdError.key) return $("#" + edu.config.winLogin.input.passWordId).addClass(edu.config.winLogin.css.error), $("#" + edu.config.winLogin.errorBoxDivID).html(edu.config.winLogin.status.pwdError.value), void 0; $("#" + edu.config.winLogin.errorBoxDivID).html(b.analysisStatus(c.status, "")) } else try { a.refreshGUID(), $("#" + edu.config.winLogin.verifyCodeDivID).show(), a.isVerify = !0 } catch (d) { $("#" + edu.config.winLogin.errorBoxDivID).html(edu.config.winLogin.hint.b) } } function f() { $("#" + edu.config.winLogin.errorBoxDivID).html(edu.config.winLogin.hint.b) } var b = new edu.command.Api(edu.config.isDebug()), c = b.createFullUrl({ project: edu.config.winLogin.project_name, path: edu.config.winLogin.user_interface }); b.apiRequest({ url: c, postdata: d, redirect: edu.config.winLogin.redirect, type: "post" }, e, f) }()) }, callback: function () { var b = window.location.href.indexOf("?") > -1 ? "&" : "?"; window.location.href = window.location.href + b + "num=" + Math.random(5) }, close: function () { $("#" + edu.config.winLogin.winBodyId).dialog("close") }, refreshGUID: function () { var e, f, a = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), b = new Array(36), c = 0, d = ""; for ($("#" + edu.config.winLogin.verifyCodeImgId).attr("src", edu.config.winLogin.verifyLoadImgUrl), f = 0; 36 > f; f++) 8 === f || 13 === f || 18 === f || 23 === f ? b[f] = "-" : 14 === f ? b[f] = "4" : (2 >= c && (c = 33554432 + 16777216 * Math.random() || 0), e = c && 15, c = c > 4, b[f] = a[19 === f ? e && 3 || 8 : e]); this.guid = b.join(""), d = edu.config.isDebug() ? edu.config.winLogin.test_verifyCode_interface.replace("@id", this.guid) : edu.config.winLogin.verifyCode_interface.replace("@id", this.guid), $("#" + edu.config.winLogin.verifyCodeImgId).attr("src", d) } }, $(function () { function c() { $("#" + edu.config.winLogin.winBodyId).attr("title", edu.config.winLogin.title).dialog(edu.config.winLogin.dialog_param), $("#edu-win-login").button().click(edu.Box.WinLogin.click) } var a, b; try { if (edu.config.winLogin.createWindow(), "string" == typeof edu.config.winLogin.button && $("#" + edu.config.winLogin.button).bind("click", c), edu.config.winLogin.button instanceof Array) for (a = 0, b = edu.config.winLogin.button.length; b > a; a++) $("#" + edu.config.winLogin.button[a]).bind("click", c) } catch (d) { throw new Error("创建登录窗体失败; 额外信息：" + d) } });